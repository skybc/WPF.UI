<!--
    This Source Code Form is subject to the terms of the MIT License.
    If a copy of the MIT was not distributed with this file, You can obtain one at https://opensource.org/licenses/MIT.
    Copyright (C) Leszek Pomianowski and WPF UI Contributors.
    All Rights Reserved.
    
    Based on Microsoft XAML for Win UI
    Copyright (c) Microsoft Corporation. All Rights Reserved.
-->

<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:Wpf.Ui.Controls">

    <Thickness x:Key="ContainerPadding">0</Thickness>
    <Thickness x:Key="ContainerHeaderPadding">16</Thickness>
    <Thickness x:Key="ContainerFooterPadding">16</Thickness>

    <Style TargetType="{x:Type controls:Container}">
        <Setter Property="Background" Value="{DynamicResource ApplicationBackgroundBrush}" />
        <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
        <Setter Property="FontSize" Value="{DynamicResource ControlContentThemeFontSize}" />
        <Setter Property="FontWeight" Value="Normal" />
        <Setter Property="Focusable" Value="False" />
        <Setter Property="HorizontalAlignment" Value="Stretch" />
        <Setter Property="VerticalAlignment" Value="Stretch" />
        <Setter Property="SnapsToDevicePixels" Value="True" />
        <Setter Property="OverridesDefaultStyle" Value="True" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:Container}">
                    <Grid Background="{TemplateBinding Background}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <!--  Header Area  -->
                        <Border
                            x:Name="HeaderBorder"
                            Grid.Row="0"
                            Background="{DynamicResource CardBackground}"
                            BorderBrush="{DynamicResource CardBorderBrush}"
                            BorderThickness="0,0,0,1"
                            Visibility="Visible">
                            <ContentPresenter
                                x:Name="HeaderContentPresenter"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                Content="{TemplateBinding Header}"
                                ContentTemplate="{TemplateBinding HeaderTemplate}" />
                        </Border>

                        <!--  Main Content Area with ScrollViewer  -->
                        <ScrollViewer
                            x:Name="MainScrollViewer"
                            Grid.Row="1"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Stretch"
                            Background="{TemplateBinding Background}"
                            HorizontalScrollBarVisibility="Auto"
                            VerticalScrollBarVisibility="Auto">
                            <ContentPresenter
                                x:Name="MainContentPresenter"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"
                                Content="{TemplateBinding Main}"
                                ContentTemplate="{TemplateBinding MainTemplate}" />
                        </ScrollViewer>

                        <!--  Footer Area  -->
                        <Border
                            x:Name="FooterBorder"
                            Grid.Row="2"
                            Background="{DynamicResource CardBackground}"
                            BorderBrush="{DynamicResource CardBorderBrush}"
                            BorderThickness="0,1,0,0"
                            Visibility="Visible">
                            <ContentPresenter
                                x:Name="FooterContentPresenter"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                Content="{TemplateBinding Footer}"
                                ContentTemplate="{TemplateBinding FooterTemplate}" />
                        </Border>
                    </Grid>

                    <ControlTemplate.Triggers>
                        <!--  Hide Header when IsHeaderVisible is False  -->
                        <Trigger Property="IsHeaderVisible" Value="False">
                            <Setter TargetName="HeaderBorder" Property="Visibility" Value="Collapsed" />
                        </Trigger>

                        <!--  Hide Footer when IsFooterVisible is False  -->
                        <Trigger Property="IsFooterVisible" Value="False">
                            <Setter TargetName="FooterBorder" Property="Visibility" Value="Collapsed" />
                        </Trigger>

                        <!--  Hide Header Border when Header is null and IsHeaderVisible is True  -->
                        <Trigger Property="Header" Value="{x:Null}">
                            <Setter TargetName="HeaderBorder" Property="Visibility" Value="Collapsed" />
                        </Trigger>

                        <!--  Hide Footer Border when Footer is null and IsFooterVisible is True  -->
                        <Trigger Property="Footer" Value="{x:Null}">
                            <Setter TargetName="FooterBorder" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
